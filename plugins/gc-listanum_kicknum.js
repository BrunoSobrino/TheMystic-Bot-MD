/*              Codigo Creado Por Bruno Sobrino
      (https://github.com/BrunoSobrino/TheMystic-Bot-MD)
*/

const handler = async (m, {conn, args, groupMetadata, participants, usedPrefix, command, isBotAdmin, isSuperAdmin}) => {
  if (!args[0]) return m.reply(`*[â—] ğ™¸ğ™½ğ™¶ğšğ™´ğš‚ğ™° ğ™´ğ™» ğ™¿ğšğ™´ğ™µğ™¸ğ™¹ğ™¾ ğ™³ğ™´ ğ™°ğ™»ğ™¶ğš„ğ™½ ğ™¿ğ™°ğ™¸ğš‚ ğ™¿ğ™°ğšğ™° ğ™±ğš„ğš‚ğ™²ğ™°ğš ğ™½ğš„ğ™¼ğ™´ğšğ™¾ğš‚ ğ™´ğ™½ ğ™´ğš‚ğšƒğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ ğ™³ğ™´ ğ™´ğš‚ğ™´ ğ™¿ğ™°ğ™¸ğš‚, ğ™´ğ™¹ğ™´ğ™¼ğ™¿ğ™»ğ™¾: ${usedPrefix + command} 52*`);
  if (isNaN(args[0])) return m.reply(`*[â—] ğ™¸ğ™½ğ™¶ğšğ™´ğš‚ğ™° ğ™´ğ™» ğ™¿ğšğ™´ğ™µğ™¸ğ™¹ğ™¾ ğ™³ğ™´ ğ™°ğ™»ğ™¶ğš„ğ™½ ğ™¿ğ™°ğ™¸ğš‚ ğ™¿ğ™°ğšğ™° ğ™±ğš„ğš‚ğ™²ğ™°ğš ğ™½ğš„ğ™¼ğ™´ğšğ™¾ğš‚ ğ™´ğ™½ ğ™´ğš‚ğšƒğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ ğ™³ğ™´ ğ™´ğš‚ğ™´ ğ™¿ğ™°ğ™¸ğš‚, ğ™´ğ™¹ğ™´ğ™¼ğ™¿ğ™»ğ™¾: ${usedPrefix + command} 52*`);
  const lol = args[0].replace(/[+]/g, '');
  const ps = participants.map((u) => u.id).filter((v) => v !== conn.user.jid && v.startsWith(lol || lol));
  const bot = global.db.data.settings[conn.user.jid] || {};
  if (ps == '') return m.reply(`*[â—] ğ™´ğ™½ ğ™´ğš‚ğšƒğ™´ ğ™¶ğšğš„ğ™¿ğ™¾ ğ™½ğ™¾ ğ™·ğ™°ğšˆ ğ™½ğ™¸ğ™½ğ™¶ğš„ğ™½ ğ™½ğš„ğ™¼ğ™´ğšğ™¾ ğ™²ğ™¾ğ™½ ğ™´ğ™» ğ™¿ğšğ™´ğ™µğ™¸ğ™¹ğ™¾ +${lol}*`);
  const numeros = ps.map((v)=> 'â­” @' + v.replace(/@.+/, ''));
  const delay = (time) => new Promise((res)=>setTimeout(res, time));
  switch (command) {
    case 'listanum': case 'listnum':
      conn.reply(m.chat, `*ğ™»ğ™¸ğš‚ğšƒğ™° ğ™³ğ™´ ğ™½ğš„ğ™¼ğ™´ğšğ™¾ğš‚ ğ™²ğ™¾ğ™½ ğ™´ğ™» ğ™¿ğšğ™´ğ™µğ™¸ğ™¹ğ™¾ +${lol} ğš€ğš„ğ™´ ğ™´ğš‚ğšƒğ™°ğ™½ ğ™´ğ™½ ğ™´ğš‚ğšƒğ™´ ğ™¶ğšğš„ğ™¿ğ™¾:*\n\n` + numeros.join`\n`, m, {mentions: ps});
      break;
    case 'kicknum':
      if (!bot.restrict) return m.reply('*[â—ğˆğğ…ğâ—] ğ™´ğ™» ğ™¿ğšğ™¾ğ™¿ğ™¸ğ™´ğšƒğ™°ğšğ™¸ğ™¾ ğ™³ğ™´ğ™» ğ™±ğ™¾ğšƒ ğ™½ğ™¾ ğšƒğ™¸ğ™´ğ™½ğ™´ ğ™·ğ™°ğ™±ğ™¸ğ™»ğ™¸ğšƒğ™°ğ™³ğ™¾ ğ™»ğ™°ğš‚ ğšğ™´ğš‚ğšƒğšğ™¸ğ™²ğ™²ğ™¸ğ™¾ğ™½ğ™´ğš‚ (#ğšğš—ğšŠğš‹ğš•ğš ğš›ğšğšœğšğš›ğš’ğšŒğš) ğ™²ğ™¾ğ™½ğšƒğ™°ğ™²ğšƒğ™´ ğ™²ğ™¾ğ™½ ğ™´ğ™» ğ™¿ğ™°ğšğ™° ğš€ğš„ğ™´ ğ™»ğ™¾ ğ™·ğ™°ğ™±ğ™¸ğ™»ğ™¸ğšƒğ™´*');
      if (!isBotAdmin) return m.reply('*[â—ğˆğğ…ğâ—] ğ™´ğ™» ğ™±ğ™¾ğšƒ ğ™½ğ™¾ ğ™´ğš‚ ğ™°ğ™³ğ™¼ğ™¸ğ™½, ğ™½ğ™¾ ğ™¿ğš„ğ™´ğ™³ğ™´ ğ™´ğš‡ğšƒğ™´ğšğ™¼ğ™¸ğ™½ğ™°ğš ğ™° ğ™»ğ™°ğš‚ ğ™¿ğ™´ğšğš‚ğ™¾ğ™½ğ™°ğš‚*');
      conn.reply(m.chat, `*[â—] ğ™¸ğ™½ğ™¸ğ™²ğ™¸ğ™°ğ™½ğ™³ğ™¾ ğ™´ğ™»ğ™¸ğ™¼ğ™¸ğ™½ğ™°ğ™²ğ™¸ğ™¾ğ™½ ğ™³ğ™´ ğ™½ğš„ğ™¼ğ™´ğšğ™¾ğš‚ ğ™²ğ™¾ğ™½ ğ™´ğ™» ğ™¿ğšğ™´ğ™µğ™¸ğ™¹ğ™¾ +${lol}, ğ™²ğ™°ğ™³ğ™° ğŸ·0 ğš‚ğ™´ğ™¶ğš„ğ™½ğ™³ğ™¾ğš‚ ğš‚ğ™´ ğ™´ğ™»ğ™¸ğ™¼ğ™¸ğ™½ğ™°ğšğ™° ğ™° ğš„ğ™½ ğš„ğš‚ğš„ğ™°ğšğ™¸ğ™¾*`, m);
      const ownerGroup = m.chat.split`-`[0] + '@s.whatsapp.net';
      const users = participants.map((u) => u.id).filter((v) => v !== conn.user.jid && v.startsWith(lol || lol));
      for (const user of users) {
        const error = `@${user.split('@')[0]} Êá´€ Êœá´€ sÉªá´…á´ á´‡ÊŸÉªá´ÉªÉ´á´€á´…á´ á´ Êœá´€ á´€Ê™á´€É´á´…á´É´á´€á´…á´ á´‡ÊŸ É¢Ê€á´œá´˜á´*`;
        if (user !== ownerGroup + '@s.whatsapp.net' && user !== global.conn.user.jid && user !== global.owner + '@s.whatsapp.net' && user.startsWith(lol || lol) && user !== isSuperAdmin && isBotAdmin && bot.restrict) {
          await delay(2000);
          const responseb = await conn.groupParticipantsUpdate(m.chat, [user], 'remove');
          if (responseb[0].status === '404') m.reply(error, m.chat, {mentions: conn.parseMention(error)});
          await delay(10000);
        } else return m.reply('*[â—] ğ™´ğšğšğ™¾ğš*');
      }
      break;
  }
};
handler.command = /^(listanum|kicknum|listnum)$/i;
handler.group = handler.botAdmin = handler.admin = true;
handler.fail = null;
export default handler;
